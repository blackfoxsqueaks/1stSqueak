<!DOCTYPE html>
<html>
<head>
  <!--
    If you are serving your web app in a path other than the root, change the
    href value below to reflect the base path you are serving from.

    The path provided below has to start and end with a slash "/" in order for
    it to work correctly.

    For more details:
    * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base

    This is a placeholder for base href that will be replaced by the value of
    the `--base-href` argument provided to `flutter build`.
  -->
  <base href="https://drop-eg.com/Aila/"> <!-- Updated base href -->

  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="description" content="Your All-in-One AI">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="office_qr">
  <link rel="apple-touch-icon" href="https://drop-eg.com/Aila/icons/icon-192.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script> <!-- Moved the defer attribute from this script -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script> <!-- Moved the defer attribute from this script -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script> <!-- Moved the defer attribute from this script -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="https://drop-eg.com/Aila/favicon.png"/> <!-- Updated favicon path -->

  <!-- Theme Color -->
  <meta name="theme-color" content="#346df8"> <!-- Added theme_color -->

  <title>Drop - Aila</title>
  <link rel="manifest" href="Aila/manifest.json"> <!-- Updated manifest path -->
  <script>
    // The value below is injected by flutter build, do not touch.
    const serviceWorkerVersion = null;
  </script>
  <!-- This script adds the flutter initialization JS code -->
  <script src="Aila/flutter.js" defer></script> <!-- Updated flutter.js path -->
</head>

<body>

<style>
  body {
    background-color: white;
    margin: 0;
  }

  .main-content {
    height: 100%;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column; /* Added to stack elements vertically */
    transition: opacity .4s ease-out; /* Fixed typo in ease-out */
  }

  /* ===== Loader CSS ðŸ‘‡ =====*/

  @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

  .loader {
    position: absolute; /* Position relative to its containing element */
    top: 50%; /* Position from the top */
    left: 50%; /* Position from the left */
    transform: translate(-50%, -50%); /* Center the loader */
    text-align: center;
  }

  .loader img {
    max-width: 16%; /* Ensure image doesn't exceed its container */
    max-height: 16%; /* Ensure image doesn't exceed its container */
    animation: spin 0.7s linear infinite;
  }

  /* Style for the appbar */
  .appbar {
    width: 100%;
    background-size: cover;
    background-position: center;
    opacity: 1; /* Initially visible */
    transition: opacity 0.4s ease; /* Fade-out transition */
  }

  /* Media query for tablets and mobiles */
  @media only screen and (max-width: 768px) {
    .appbar {
      background-image: url('https://drop-eg.com/Aila/assets/assets/AilaHeader.png'); /* Background image for mobiles and tablets */
      height: 135px; /* Adjust height as needed */

    }
  }

  /* Media query for desktops */
  @media only screen and (min-width: 769px) {
    .appbar {
      background-image: url('https://drop-eg.com/Aila/assets/assets/AppBar.png'); /* Background image for desktops */
      height: 270px; /* Adjust height as needed */

    }
  }

  /* Hide appbar when loader content fades out */
  .loading .appbar {
    opacity: 0;
  }

</style>


<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";
  import { getAuth } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';
  import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyC8IsZptSyWHhRiCzeLXgMBHq-swjKHtb0",
    authDomain: "ana-drop-9fb07.firebaseapp.com",
    projectId: "ana-drop-9fb07",
    storageBucket: "ana-drop-9fb07.appspot.com",
    messagingSenderId: "650617518921",
    appId: "1:650617518921:web:e9fcd3e6c86cd4d619f898",
    measurementId: "G-513YS88V2G"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
  const firestore = getFirestore();
</script>

<script>
  function delay(time) {
    return new Promise(resolve => setTimeout(resolve, time)); // Fixed typo in arrow function
  }

  let useHtml = true;

  window.addEventListener('load', async function(ev) { // Added async keyword
    var loaderContent = document.querySelector('#loader-content');
    _flutter.loader.loadEntrypoint({
      serviceWorker: {
        serviceWorkerVersion: serviceWorkerVersion,
      },
      onEntrypointLoaded: async function(engineInitializer) { // Added async keyword
        let config = {
          renderer: useHtml ? "html" : "canvaskit",
        };
        const appRunner = await engineInitializer.initializeEngine(config); // Define appRunner here
        loaderContent.style.opacity = "0";
        appbar.style.opacity = "0";
        await delay(396);
        appRunner.runApp();
        loaderContent.style.display = "none"; // Hide loader
        appbar.style.display = "none"; // Hide appbar
      }
    });
  });
</script>



<script>
  if (
    navigator.userAgent.indexOf("Safari") !== -1 &&
    navigator.userAgent.indexOf("Chrome") === -1
  ) {
    var originalGetContext = HTMLCanvasElement.prototype.getContext;
    HTMLCanvasElement.prototype.getContext = function () {
      var contextType = arguments[0];
      if (contextType === "webgl2") {
        return;
      }
      return originalGetContext.apply(
        this,
        [contextType].concat(Array.prototype.slice.call(arguments, 1)),
      );
    };
  }
</script>

<div class="main-content">
  <div class="appbar"></div> <!-- Added appbar -->
  <div id="loader-content" class="loader">
    <img src="https://drop-eg.com/Aila/AilaLogo.png" alt="AilaLogo"> <!-- Updated logo path -->
  </div>
</div>

</body>
</html>
